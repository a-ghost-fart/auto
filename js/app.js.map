{"version":3,"sources":["node_modules/browserify/node_modules/browser-pack/_prelude.js","src/js/app.js","app.js","src/js/conf/Config.js","src/js/states/BootState.js","src/js/states/HairState.js","src/js/states/MenuState.js","src/js/states/PillState.js"],"names":["e","t","n","r","s","o","u","a","require","i","f","Error","code","l","exports","call","length",1,"Config","BootState","MenuState","PillState","HairState","window","onload","document","title","TITLE","game","Phaser","Game","WIDTH","SCALE","x","HEIGHT","y","AUTO","getElementById","state","add","start","./conf/Config","./states/BootState","./states/HairState","./states/MenuState","./states/PillState",2,"module","Point",3,"preload","this","load","image","bitmapFont","create","stage","backgroundColor","text","world","centerX","centerY","font","fill","align","anchor","set","update","progress","destroy",4,"shavedPercent","shavedThreshold","enterTime","Date","now","timer","timerRunning","successState","Math","floor","diff","failState","console","log",5,"background","scale","_this","menu","group","menuItems","menuOffset","forEach","item","index","bitmapText","stateTransition","inputEnabled","input","enabled","useHandCursor","justPressed","../conf/Config",6],"mappings":"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","file":"app.js","sourcesContent":["(function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require==\"function\"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error(\"Cannot find module '\"+o+\"'\");throw f.code=\"MODULE_NOT_FOUND\",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require==\"function\"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})","var Config = require('./conf/Config');\nvar BootState = require('./states/BootState');\nvar MenuState = require('./states/MenuState');\nvar PillState = require('./states/PillState');\nvar HairState = require('./states/HairState');\n\nwindow.onload = function windowLoaded() {\n    'use strict';\n    document.title = Config.TITLE;\n\n    var game = new Phaser.Game(\n        Config.WIDTH * Config.SCALE.x,\n        Config.HEIGHT * Config.SCALE.y,\n        Phaser.AUTO,\n        document.getElementById('viewport'),\n        null,\n        false,\n        false\n    );\n\n    game.state.add('boot', BootState);\n    game.state.add('menu', MenuState);\n    game.state.add('pill', PillState);\n    game.state.add('hair', HairState);\n    game.state.start('boot');\n};\n","var Config = require('./conf/Config');\nvar BootState = require('./states/BootState');\nvar MenuState = require('./states/MenuState');\nvar PillState = require('./states/PillState');\nvar HairState = require('./states/HairState');\n\nwindow.onload = function windowLoaded() {\n    'use strict';\n    document.title = Config.TITLE;\n\n    var game = new Phaser.Game(\n        Config.WIDTH * Config.SCALE.x,\n        Config.HEIGHT * Config.SCALE.y,\n        Phaser.AUTO,\n        document.getElementById('viewport'),\n        null,\n        false,\n        false\n    );\n\n    game.state.add('boot', BootState);\n    game.state.add('menu', MenuState);\n    game.state.add('pill', PillState);\n    game.state.add('hair', HairState);\n    game.state.start('boot');\n};\n","module.exports = {\n    'WIDTH': 120,\n    'HEIGHT': 68,\n    'TITLE': 'auto',\n    'SCALE': new Phaser.Point(8, 8)\n};\n","module.exports = {\n    'preload': function bootStatePreLoad() {\n        'use strict';\n        this.game.load.image('test-background', 'assets/menu/menu-background.png');\n        this.game.load.bitmapFont('test-font', 'assets/ui/font.png', 'assets/ui/font.xml');\n    },\n    'create': function bootStateCreate() {\n        'use strict';\n        this.game.stage.backgroundColor = '#000';\n        this.text = this.game.add.text(\n            this.game.world.centerX,\n            this.game.world.centerY,\n            'Loading.',\n            {\n                'font': 'bold 60pt Arial',\n                'fill': '#fff',\n                'align': 'center'\n            }\n        );\n        this.text.anchor.set(0.5);\n    },\n    'update': function bootStateUpdate() {\n        'use strict';\n        if (this.game.load.progress === 100) {\n            this.text.destroy();\n            this.game.state.start('menu');\n        }\n    }\n};\n","module.exports = {\n    'create': function hairStateCreate() {\n        'use strict';\n        this.shavedPercent = 0;\n        this.shavedThreshold = 50;\n        this.enterTime = Date.now();\n        this.timer = 30;\n        this.timerRunning = true;\n    },\n\n    'update': function hairStateUpdate() {\n        'use strict';\n        if (this.shavedPercent >= this.shavedThreshold) {\n            this.timerRunning = false;\n            this.successState();\n        }\n        if (this.timerRunning) {\n            var diff = Math.floor((Date.now() - this.enterTime) / 1000);\n            if (this.diff >= this.timer) {\n                this.timerRunning = false;\n                this.failState();\n            }\n        }\n    },\n\n    'successState': function hairStateSucceed() {\n        'use strict';\n        console.log('success');\n    },\n\n    'failState': function hairStateFail() {\n        'use strict';\n        console.log('fail');\n    }\n};\n","var Config = require('../conf/Config');\n\nmodule.exports = {\n    'create': function playStateCreate() {\n        'use strict';\n        // Load the background first\n        this.game.stage.backgroundColor = '#000';\n        this.background = this.game.add.image(0, 0, 'test-background');\n        this.background.scale = Config.SCALE;\n\n        var _this = this;\n        this.menu = this.game.add.group();\n        this.menuItems = ['pill', 'hair'];\n        this.menuOffset = 10;\n\n        this.menuItems.forEach(function iterateMenuItems(item, index) {\n            var text = _this.game.add.bitmapText(10, (_this.menuOffset * index) * Config.SCALE.y, 'test-font', item, 12);\n            text.scale = Config.SCALE;\n            text.stateTransition = item;\n            text.inputEnabled = true;\n            text.input.enabled = true;\n            text.input.useHandCursor = true;\n            _this.menu.add(text);\n        });\n    },\n\n    'update': function playStateUpdate() {\n        'use strict';\n        var _this = this;\n        this.menu.forEach(function (item) {\n            if (item.input.justPressed()) {\n                _this.game.state.start(item.stateTransition);\n            }\n        });\n    }\n};\n","module.exports = {\n    'create': function pillStateCreate() {\n        'use strict';\n        console.log('pill state');\n    }\n};\n"],"sourceRoot":"/source/"}