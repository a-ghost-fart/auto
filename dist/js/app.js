!function t(e,a,s){function i(n,o){if(!a[n]){if(!e[n]){var h="function"==typeof require&&require;if(!o&&h)return h(n,!0);if(r)return r(n,!0);var u=new Error("Cannot find module '"+n+"'");throw u.code="MODULE_NOT_FOUND",u}var d=a[n]={exports:{}};e[n][0].call(d.exports,function(t){var a=e[n][1][t];return i(a?a:t)},d,d.exports,t,e,a,s)}return a[n].exports}for(var r="function"==typeof require&&require,n=0;n<s.length;n++)i(s[n]);return i}({1:[function(t){var e=t("./conf/Config");window.onload=function(){"use strict";document.title=e.TITLE+" v"+e.VERSION;var a=new Phaser.Game(e.WIDTH*e.SCALE.x,e.HEIGHT*e.SCALE.y,Phaser.CANVAS,document.getElementById("viewport"),null,!1,!1);a.state.add("boot",t("./states/BootState")),a.state.add("menu",t("./states/MenuState")),a.state.add("pill",t("./states/PillState")),a.state.add("hair",t("./states/HairState")),a.state.start("boot")}},{"./conf/Config":2,"./states/BootState":3,"./states/HairState":4,"./states/MenuState":5,"./states/PillState":6}],2:[function(t,e){e.exports={WIDTH:120,HEIGHT:68,TITLE:"auto",VERSION:"dev",SCALE:new Phaser.Point(8,8)}},{}],3:[function(t,e){e.exports={preload:function(t){"use strict";t.load.image("test-background","assets/menu/menu-background.png"),t.load.image("hair-background","assets/hair/hair-background.png"),t.load.image("hair-tileset","assets/hair/hair-tileset.png"),t.load.tilemap("hair-tilemap","assets/hair/hair-tilemap.json",null,Phaser.Tilemap.TILED_JSON),t.load.image("hair-shaver","assets/hair/hair-shaver.png"),t.load.image("hair-blades","assets/hair/hair-blades.png"),t.load.bitmapFont("test-font","assets/ui/font.png","assets/ui/font.xml"),t.scale.scaleMode=Phaser.ScaleManager.SHOW_ALL},create:function(t){"use strict";t.stage.backgroundColor="#000",this.text=this.game.add.text(t.world.centerX,t.world.centerY,"Loading.",{font:"bold 60pt Arial",fill:"#fff",align:"center"}),this.text.anchor.set(.5)},update:function(t){"use strict";t.load.hasLoaded&&(this.text.destroy(),t.state.start("menu"))}}},{}],4:[function(t,e){var a=t("../conf/Config");e.exports={create:function(t){"use strict";t.physics.startSystem(Phaser.Physics.ARCADE),t.physics.arcade.gravity.y=250,this.shavedPercent=0,this.shavedThreshold=50,this.enterTime=(new Date).getTime(),this.timerMax=10,this.timer=0,this.timerRunning=!0,this.background=t.add.image(0,0,"hair-background"),this.background.scale=a.SCALE,t.stage.backgroundColor="rgba(0, 0, 0)",this.map=t.add.tilemap("hair-tilemap"),this.map.addTilesetImage("hair","hair-tileset"),this.layer=this.map.createLayer("Tile Layer 1"),this.layer.scale=a.SCALE,this.layer.resizeWorld(),this.timerText=this.game.add.bitmapText(30,10,"test-font",Math.ceil(this.timer/1e3),12),this.timerText.scale=a.SCALE,this.timerText.fixToCamera=!0,this.timerText.smoothed=!1},update:function(t){"use strict";this.shavedPercent>=this.shavedThreshold&&(this.timerRunning=!1,this.successState()),this.timerRunning&&(t.physics.arcade.collide(this.blades,this.layer),this.timerText.setText(Math.ceil(this.timerMax-this.timer/1e3)),this.timer+=t.time.elapsed,this.timer>=1e3*this.timerMax&&(this.timerRunning=!1,this.failState()))},render:function(t){"use strict";var e=Math.floor(255*Math.random()),a=Math.floor(255*Math.random()),s=Math.floor(255*Math.random());this.game.stage.backgroundColor="rgba("+e+", "+a+", "+s+")",t.debug.body(this.blades),t.debug.bodyInfo(this.blades,32,32)},successState:function(){"use strict";var t=["STUNNING","HOW BEAUTIFUL","SHIT, SON","GGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGG"],e=Math.floor(Math.random()*t.length);this.timerText.setText(t[e])},failState:function(){"use strict";this.timerText.setText("FAILURE");var t=this;setTimeout(function(){t.game.state.start("menu")},2e3)}}},{"../conf/Config":2}],5:[function(t,e){var a=t("../conf/Config");e.exports={create:function(){"use strict";this.game.stage.backgroundColor="#000",this.background=this.game.add.image(0,0,"test-background"),this.background.scale=a.SCALE;var t=this;this.menu=this.game.add.group(),this.menuItems=[{label:"pills",transition:"pill"},{label:"hair",transition:"hair"}],this.menuOffset=10,this.menuItems.forEach(function(e,s){var i=t.game.add.bitmapText(10,t.menuOffset*s*a.SCALE.y,"test-font",e.label,12);i.scale=a.SCALE,i.stateTransition=e.transition,i.smoothed=!1,i.inputEnabled=!0,i.input.enabled=!0,i.input.useHandCursor=!0,t.menu.add(i)})},update:function(){"use strict";var t=this;this.menu.forEach(function(e){e.input.justPressed()&&t.game.state.start(e.stateTransition)})}}},{"../conf/Config":2}],6:[function(t,e){e.exports={create:function(){"use strict";console.log("pill state")}}},{}]},{},[1]);
//# sourceMappingURL=app.js.map